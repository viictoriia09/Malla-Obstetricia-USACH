<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Obstetricia USACH</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500&display=swap" rel="stylesheet" />
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: #fff5f7;
    margin: 0;
    padding: 20px;
    color: #333;
  }
  .title-container {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    margin-bottom: 10px;
  }
  .title-container h1 {
    font-family: 'Pacifico', cursive;
    font-size: 2.8em;
    color: #d63384;
    text-align: center;
    grid-column: 1 / span 10;
    margin: 0;
  }
  .grid {
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    gap: 4px 10px;
    align-items: start;
  }
  .ano {
    grid-column: span 2;
    background: #f8d7da;
    text-align: center;
    font-weight: bold;
    padding: 10px;
    border-radius: 10px;
    color: #842029;
  }
  .semestre {
    background: #f3beca;
    text-align: center;
    font-weight: bold;
    padding: 6px 8px;
    border-radius: 6px;
    color: #6c1b3a;
    margin: 0;
  }
  .asignatura {
    background: #ffe3ec;
    border: 1px solid #f5c2cb;
    border-radius: 8px;
    padding: 6px 10px;
    text-align: center;
    cursor: pointer;
    transition: background-color 0.3s, text-decoration 0.3s, color 0.3s;
    margin: 0;
    user-select: none;
  }
  .asignatura.tachado {
    text-decoration: line-through;
    background: #f8f9fa;
    color: #6c757d;
  }
  .asignatura.cursando {
    background: #ffd6e8;
    color: #b32e5a;
    font-weight: 600;
  }
  .span-2 {
    grid-column: span 2;
  }
  .reset-btn {
    margin: 30px auto;
    display: block;
    background: #d63384;
    color: #fff;
    padding: 12px 24px;
    font-size: 16px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
</style>
</head>
<body>
  <div class="title-container">
    <h1>Obstetricia y Puericultura USACH</h1>
  </div>
  <div class="grid">
    <div class="ano">Año 1</div><div class="ano">Año 2</div><div class="ano">Año 3</div><div class="ano">Año 4</div><div class="ano">Año 5</div>
    <div class="semestre">Semestre 1</div><div class="semestre">Semestre 2</div><div class="semestre">Semestre 3</div><div class="semestre">Semestre 4</div><div class="semestre">Semestre 5</div><div class="semestre">Semestre 6</div><div class="semestre">Semestre 7</div><div class="semestre">Semestre 8</div><div class="semestre">Semestre 9</div><div class="semestre">Semestre 10</div>

    <div class="asignatura" style="grid-column:1;">Anatomía General</div>
    <div class="asignatura" style="grid-column:1;">Psicología General y Clínica</div>
    <div class="asignatura" style="grid-column:1;">Humanización y Consciencia Corporal</div>

    <div class="asignatura" style="grid-column:2;">Salud Pública y Gestión I</div>
    <div class="asignatura" style="grid-column:2;">Desarrollo de Habilidades Profesionales</div>
    <div class="asignatura" style="grid-column:2;">Anatomía Especializada</div>
    <div class="asignatura" style="grid-column:2;">Informática Biomédica</div>

    <div class="asignatura span-2" style="grid-column:1/span 2;">Bases Biológicas, Bioquímicas y Físicas del Cuerpo Humano</div>
    <div class="asignatura span-2" style="grid-column:1/span 2;">Introducción a los Cuidados Clínicos de Matronería</div>

    <div class="asignatura" style="grid-column:3;">Antropología</div>
    <div class="asignatura" style="grid-column:3;">Histología</div>
    <div class="asignatura" style="grid-column:3;">Microbiología</div>
    <div class="asignatura" style="grid-column:3;">Salud Familiar y Gestión II</div>
    <div class="asignatura" style="grid-column:3;">Fisiología Clínica</div>

    <div class="asignatura" style="grid-column:4;">Embriología</div>
    <div class="asignatura" style="grid-column:4;">Fisiopatología</div>
    <div class="asignatura" style="grid-column:4;">Farmacología</div>
    <div class="asignatura" style="grid-column:4;">Obstetricia I</div>
    <div class="asignatura" style="grid-column:4;">Neonatología I</div>

    <div class="asignatura span-2" style="grid-column:3/span 2;">Cuidados Clínicos de Matronería Médico Quirúrgico</div>

    <div class="asignatura" style="grid-column:5;">Sexualidad y Afectividad</div>
    <div class="asignatura" style="grid-column:5;">Gestión y Liderazgo</div>
    <div class="asignatura" style="grid-column:5;">Epidemiología en Salud Sexual y Reproductiva</div>
    <div class="asignatura" style="grid-column:5;">Sello I</div>

    <div class="asignatura" style="grid-column:6;">Metodología de la Investigación Científica</div>
    <div class="asignatura" style="grid-column:6;">Bioética del Ejercicio Profesional</div>
    <div class="asignatura" style="grid-column:6;">Educación para la Salud Sexual y Reproductiva</div>

    <div class="asignatura span-2" style="grid-column:5/span 2;">Obstetricia II</div>
    <div class="asignatura span-2" style="grid-column:5/span 2;">Neonatología II</div>
    <div class="asignatura span-2" style="grid-column:5/span 2;">Ginecología y Planificación Familiar</div>

    <div class="asignatura" style="grid-column:7;">Sello II</div>
    <div class="asignatura" style="grid-column:8;">Medicina Legal en Matronería</div>

    <div class="asignatura span-2" style="grid-column:7/span 2;">Obstetricia III y Gestión en Salud</div>
    <div class="asignatura span-2" style="grid-column:7/span 2;">Neonatología III y Gestión en Salud</div>
    <div class="asignatura span-2" style="grid-column:7/span 2;">Ginecología II y Gestión en Salud</div>
    <div class="asignatura span-2" style="grid-column:7/span 2;">Seminario de Grado Académico</div>

    <div class="asignatura span-2" style="grid-column:9/span 2;">Internado en Gineco-Obstetricia y Gestión en Salud</div>
    <div class="asignatura span-2" style="grid-column:9/span 2;">Internado en Neonatología y Gestión en Salud</div>
    <div class="asignatura span-2" style="grid-column:9/span 2;">Internado en Atención Primaria y Gestión en Salud</div>
  </div>
  <button class="reset-btn" onclick="resetear()">Resetear materias aprobadas y cursando</button>
  <script>
    const items = document.querySelectorAll('.asignatura');
    items.forEach((item, index) => {
      // Cargar estado guardado
      const estado = localStorage.getItem('asig' + index);
      if (estado === '1') {
        item.classList.add('tachado');
      } else if (estado === '2') {
        item.classList.add('cursando');
      }

      let clickTimeout = null;
      item.addEventListener('click', (e) => {
        // Para evitar conflicto con doble click
        if (clickTimeout !== null) return;

        clickTimeout = setTimeout(() => {
          clickTimeout = null;
          // Solo click: toggle tachado
          if (item.classList.contains('tachado')) {
            item.classList.remove('tachado');
            localStorage.setItem('asig' + index, '0');
          } else {
            item.classList.add('tachado');
            item.classList.remove('cursando');
            localStorage.setItem('asig' + index, '1');
          }
        }, 250);
      });

      item.addEventListener('dblclick', (e) => {
        if (clickTimeout) {
          clearTimeout(clickTimeout);
          clickTimeout = null;
        }
        // Doble click: toggle cursando
        if (item.classList.contains('cursando')) {
          item.classList.remove('cursando');
          localStorage.setItem('asig' + index, '0');
        } else {
          item.classList.add('cursando');
          item.classList.remove('tachado');
          localStorage.setItem('asig' + index, '2');
        }
      });
    });

    function resetear() {
      items.forEach((item, index) => {
        item.classList.remove('tachado');
        item.classList.remove('cursando');
        localStorage.removeItem('asig' + index);
      });
    }
  </script>
</body>
</html>